{"ast":null,"code":"var _jsxFileName = \"/Users/msd/Documents/vg/TAF + React Roadmap/react-roadmap/roadmap/src/components/fundamental/component-life-cycle/get-snapshot-before-update.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass GetSnapshotBeforeUpdateChild extends React.Component {\n  constructor(props) {\n    super(props);\n    this.titleRef = /*#__PURE__*/React.createRef();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    const title = this.titleRef.current;\n\n    if (title.props !== prevProps.props) {\n      return prevProps.props;\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const colors = [\"red\", \"blue\", \"green\"];\n    const randomColor = colors[Math.floor(Math.random() * colors.length)];\n\n    if (snapshot !== null) {\n      console.log(\"snapshot exists\");\n      this.titleRef.current.style.color = randomColor;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"getSnapshotBeforeUpdate:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        ref: this.titleRef,\n        style: {\n          color: \"purple\"\n        },\n        children: this.props.props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport { GetSnapshotBeforeUpdateChild };\n\nclass GetSnapshotBeforeUpdate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: new Date()\n    };\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(() => this.setState({\n      date: new Date()\n    }), 1000);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(GetSnapshotBeforeUpdateChild, {\n      props: this.state.date.toLocaleTimeString()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default GetSnapshotBeforeUpdate;","map":{"version":3,"sources":["/Users/msd/Documents/vg/TAF + React Roadmap/react-roadmap/roadmap/src/components/fundamental/component-life-cycle/get-snapshot-before-update.js"],"names":["React","GetSnapshotBeforeUpdateChild","Component","constructor","props","titleRef","createRef","getSnapshotBeforeUpdate","prevProps","prevState","title","current","componentDidUpdate","snapshot","colors","randomColor","Math","floor","random","length","console","log","style","color","render","GetSnapshotBeforeUpdate","state","date","Date","componentDidMount","timer","setInterval","setState","toLocaleTimeString"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,4BAAN,SAA2CD,KAAK,CAACE,SAAjD,CAA2D;AACzDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,QAAL,gBAAgBL,KAAK,CAACM,SAAN,EAAhB;AACD;;AAEDC,EAAAA,uBAAuB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AAC5C,UAAMC,KAAK,GAAG,KAAKL,QAAL,CAAcM,OAA5B;;AACA,QAAID,KAAK,CAACN,KAAN,KAAgBI,SAAS,CAACJ,KAA9B,EAAqC;AACnC,aAAOI,SAAS,CAACJ,KAAjB;AACD;;AACD,WAAO,IAAP;AACD;;AAEDQ,EAAAA,kBAAkB,CAACJ,SAAD,EAAYC,SAAZ,EAAuBI,QAAvB,EAAiC;AACjD,UAAMC,MAAM,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,CAAf;AACA,UAAMC,WAAW,GAAGD,MAAM,CAACE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBJ,MAAM,CAACK,MAAlC,CAAD,CAA1B;;AAEA,QAAIN,QAAQ,KAAK,IAAjB,EAAuB;AACrBO,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,WAAKhB,QAAL,CAAcM,OAAd,CAAsBW,KAAtB,CAA4BC,KAA5B,GAAoCR,WAApC;AACD;AACF;;AAEDS,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAG,QAAA,GAAG,EAAE,KAAKnB,QAAb;AAAuB,QAAA,KAAK,EAAE;AAAEkB,UAAAA,KAAK,EAAE;AAAT,SAA9B;AAAA,kBACG,KAAKnB,KAAL,CAAWA;AADd;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAQD;;AAjCwD;;AAoC3D,SAASH,4BAAT;;AAEA,MAAMwB,uBAAN,SAAsCzB,KAAK,CAACE,SAA5C,CAAsD;AACpDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKsB,KAAL,GAAa;AAAEC,MAAAA,IAAI,EAAE,IAAIC,IAAJ;AAAR,KAAb;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,KAAL,GAAaC,WAAW,CACtB,MACE,KAAKC,QAAL,CAAc;AACZL,MAAAA,IAAI,EAAE,IAAIC,IAAJ;AADM,KAAd,CAFoB,EAKtB,IALsB,CAAxB;AAOD;;AAEDJ,EAAAA,MAAM,GAAG;AACP,wBACE,QAAC,4BAAD;AACE,MAAA,KAAK,EAAE,KAAKE,KAAL,CAAWC,IAAX,CAAgBM,kBAAhB;AADT;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AAtBmD;;AAyBtD,eAAeR,uBAAf","sourcesContent":["import React from 'react';\n\nclass GetSnapshotBeforeUpdateChild extends React.Component {\n  constructor(props) {\n    super(props);\n    this.titleRef = React.createRef();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    const title = this.titleRef.current;\n    if (title.props !== prevProps.props) {\n      return prevProps.props;\n    }\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const colors = [\"red\", \"blue\", \"green\"];\n    const randomColor = colors[Math.floor(Math.random() * colors.length)];\n\n    if (snapshot !== null) {\n      console.log(\"snapshot exists\");\n      this.titleRef.current.style.color = randomColor;\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>getSnapshotBeforeUpdate:</h2>\n        <p ref={this.titleRef} style={{ color: \"purple\" }}>\n          {this.props.props}\n        </p>\n      </div>\n    );\n  }\n}\n\nexport { GetSnapshotBeforeUpdateChild };\n\nclass GetSnapshotBeforeUpdate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { date: new Date() };\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(\n      () =>\n        this.setState({\n          date: new Date(),\n        }),\n      1000\n    );\n  }\n\n  render() {\n    return (\n      <GetSnapshotBeforeUpdateChild\n        props={this.state.date.toLocaleTimeString()}\n      />\n    );\n  }\n}\n\nexport default GetSnapshotBeforeUpdate;\n"]},"metadata":{},"sourceType":"module"}